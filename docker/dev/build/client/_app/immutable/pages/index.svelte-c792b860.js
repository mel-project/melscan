import{S as Il,i as Vl,s as xl,l as a,a as v,e as _l,m as r,c as _,p as n,b as Q,M as ul,F as Bt,h as l,R as Hl,r as p,n as o,u as b,K as e,v as W,x as ml,y as pl,z as bl,T as Sl,f as El,t as gl,C as kl,L as Al,q as wl,U as $l}from"../chunks/index-d5cc66c1.js";import{m as ze,g as Ze,b as Rl}from"../chunks/common-9379a3d9.js";import{T as Fl}from"../chunks/TopNav-61067f92.js";import"../chunks/singletons-eca981c1.js";function yl(d){let t,c;return{c(){t=a("div"),c=p(d[2]),this.h()},l(s){t=r(s,"DIV",{class:!0});var i=o(t);c=b(i,d[2]),i.forEach(l),this.h()},h(){n(t,"class","error svelte-dnxwpb")},m(s,i){Q(s,t,i),e(t,c)},p(s,i){i&4&&W(c,s[2])},d(s){s&&l(t)}}}function ql(d){let t,c,s,i,E,f=d[2].length>0&&yl(d);return{c(){t=a("input"),c=v(),f&&f.c(),s=_l(),this.h()},l(u){t=r(u,"INPUT",{placeholder:!0,class:!0}),c=_(u),f&&f.l(u),s=_l(),this.h()},h(){n(t,"placeholder","Search for a hash or height"),n(t,"class","hs svelte-dnxwpb"),t.value=d[0],t.disabled=d[1]},m(u,m){Q(u,t,m),Q(u,c,m),f&&f.m(u,m),Q(u,s,m),i||(E=[ul(t,"input",d[3]),ul(t,"keyup",d[4])],i=!0)},p(u,[m]){m&1&&t.value!==u[0]&&(t.value=u[0]),m&2&&(t.disabled=u[1]),u[2].length>0?f?f.p(u,m):(f=yl(u),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},i:Bt,o:Bt,d(u){u&&l(t),u&&l(c),f&&f.d(u),u&&l(s),i=!1,Hl(E)}}}function zl(d,t,c){let s="",i=!1;const E=m=>{c(0,s=m.target.value),c(2,f="")};let f="";return[s,i,f,E,async m=>{c(0,s=s.trim());try{if(m.key==="Enter"){c(1,i=!0);try{try{try{let g=await ze(fetch,"/raw/search/transaction/"+s);Ze("/blocks/"+g+"/"+s)}catch{let g=await ze(fetch,"/raw/search/block/"+s);Ze("/blocks/"+g)}}catch{throw await ze(fetch,"/raw/blocks/"+s+"/summary")&&Ze("/blocks/"+s),"oh no"}}catch{await ze(fetch,"/raw/address/"+s)&&Ze("/address/"+s)}finally{c(1,i=!1)}}}catch{c(2,f="no such block, transaction, or address")}}]}class Nl extends Il{constructor(t){super(),Vl(this,t,zl,ql,xl,{})}}function Dl(d,t,c){const s=d.slice();return s[2]=t[c],s}function Tl(d,t,c){const s=d.slice();return s[5]=t[c],s}function Pl(d){let t,c;return{c(){t=a("a"),c=p("Melscan"),this.h()},l(s){t=r(s,"A",{href:!0});var i=o(t);c=b(i,"Melscan"),i.forEach(l),this.h()},h(){n(t,"href","/")},m(s,i){Q(s,t,i),e(t,c)},p:Bt,d(s){s&&l(t)}}}function Ml(d,t){let c,s,i,E=t[5].header.height+"",f,u,m,g,L=t[5].total_weight+"",$,H,T,y,I=(t[5].reward_amount/1e6).toFixed(6)+"",R,M,w;return{key:d,first:null,c(){c=a("tr"),s=a("td"),i=a("a"),f=p(E),m=v(),g=a("td"),$=p(L),H=p(" wu"),T=v(),y=a("td"),R=p(I),M=p(" MEL"),w=v(),this.h()},l(S){c=r(S,"TR",{});var D=o(c);s=r(D,"TD",{class:!0});var U=o(s);i=r(U,"A",{href:!0,class:!0});var N=o(i);f=b(N,E),N.forEach(l),U.forEach(l),m=_(D),g=r(D,"TD",{class:!0});var oe=o(g);$=b(oe,L),H=b(oe," wu"),oe.forEach(l),T=_(D),y=r(D,"TD",{class:!0});var P=o(y);R=b(P,I),M=b(P," MEL"),P.forEach(l),w=_(D),D.forEach(l),this.h()},h(){n(i,"href",u="/blocks/"+t[5].header.height),n(i,"class","text-blue-600"),n(s,"class","font-medium svelte-2lq0zg"),n(g,"class","svelte-2lq0zg"),n(y,"class","svelte-2lq0zg"),this.first=c},m(S,D){Q(S,c,D),e(c,s),e(s,i),e(i,f),e(c,m),e(c,g),e(g,$),e(g,H),e(c,T),e(c,y),e(y,R),e(y,M),e(c,w)},p(S,D){t=S,D&1&&E!==(E=t[5].header.height+"")&&W(f,E),D&1&&u!==(u="/blocks/"+t[5].header.height)&&n(i,"href",u),D&1&&L!==(L=t[5].total_weight+"")&&W($,L),D&1&&I!==(I=(t[5].reward_amount/1e6).toFixed(6)+"")&&W(R,I)},d(S){S&&l(c)}}}function Ll(d){let t,c,s,i=d[2].hash+"",E,f,u,m,g=d[2].height+"",L,$,H,T=(d[2].mel_moved/1e6).toFixed(6)+"",y,I,R;return{c(){t=a("tr"),c=a("td"),s=a("a"),E=p(i),u=v(),m=a("td"),L=p(g),$=v(),H=a("td"),y=p(T),I=p(" MEL"),R=v(),this.h()},l(M){t=r(M,"TR",{});var w=o(t);c=r(w,"TD",{class:!0,style:!0});var S=o(c);s=r(S,"A",{href:!0,class:!0});var D=o(s);E=b(D,i),D.forEach(l),S.forEach(l),u=_(w),m=r(w,"TD",{class:!0});var U=o(m);L=b(U,g),U.forEach(l),$=_(w),H=r(w,"TD",{class:!0});var N=o(H);y=b(N,T),I=b(N," MEL"),N.forEach(l),R=_(w),w.forEach(l),this.h()},h(){n(s,"href",f="/blocks/"+d[2].height+"/"+d[2].hash),n(s,"class","text-blue-600"),n(c,"class","font-medium svelte-2lq0zg"),wl(c,"overflow","hidden"),wl(c,"text-overflow","ellipsis"),n(m,"class","svelte-2lq0zg"),n(H,"class","svelte-2lq0zg")},m(M,w){Q(M,t,w),e(t,c),e(c,s),e(s,E),e(t,u),e(t,m),e(m,L),e(t,$),e(t,H),e(H,y),e(H,I),e(t,R)},p(M,w){w&2&&i!==(i=M[2].hash+"")&&W(E,i),w&2&&f!==(f="/blocks/"+M[2].height+"/"+M[2].hash)&&n(s,"href",f),w&2&&g!==(g=M[2].height+"")&&W(L,g),w&2&&T!==(T=(M[2].mel_moved/1e6).toFixed(6)+"")&&W(y,T)},d(M){M&&l(t)}}}function Bl(d){let t,c,s,i,E,f,u,m,g,L,$,H,T,y,I,R,M,w=(1/d[0].erg_per_mel).toFixed(5)+"",S,D,U,N,oe,P,ne,et,tt,C,G,ie,lt,st,Se=(1/d[0].sym_per_mel).toFixed(5)+"",Ne,at,rt,ot,ct,he,de,nt,it,B,fe,ve,ht,dt,Y,_e,ft,vt,X,ue,_t,ut,F,Pe,mt,Be,pt,Ye,bt,Ue,Et,Z,me,K,pe,gt,kt,be,wt,yt,Ee,Dt,Tt,ee,z=[],Yt=new Map,Mt,O,ge,Lt,It,te,ke,Vt,xt,q,Ce,Ht,Ge,St,Ke,At,Oe,$t,le,we,j,Ae,Rt,Ft,$e,qt,zt,Re,Nt,Pt,se,ye;t=new Fl({props:{$$slots:{default:[Pl]},$$scope:{ctx:d}}}),f=new Nl({});let je=d[0].recent_blocks;const Ut=h=>h[5].header.height;for(let h=0;h<je.length;h+=1){let k=Tl(d,je,h),x=Ut(k);Yt.set(x,z[h]=Ml(x,k))}let De=d[1](),V=[];for(let h=0;h<De.length;h+=1)V[h]=Ll(Dl(d,De,h));return{c(){ml(t.$$.fragment),c=v(),s=a("div"),i=a("div"),E=a("div"),ml(f.$$.fragment),u=v(),m=a("div"),g=a("div"),L=a("h3"),$=p("Melmint/Melswap"),H=v(),T=a("div"),y=a("span"),I=a("span"),R=p("1 ERG ="),M=v(),S=p(w),D=p(" MEL"),U=v(),N=a("br"),oe=v(),P=a("small"),ne=a("a"),et=p("See details \u2192"),tt=v(),C=a("div"),G=a("span"),ie=a("span"),lt=p("1 SYM ="),st=v(),Ne=p(Se),at=p(" MEL"),rt=v(),ot=a("br"),ct=v(),he=a("small"),de=a("a"),nt=p("See details \u2192"),it=v(),B=a("div"),fe=a("div"),ve=a("h3"),ht=p("Latest activity"),dt=v(),Y=a("div"),_e=a("h3"),ft=p("Latest blocks"),vt=v(),X=a("div"),ue=a("small"),_t=p("Most recently confirmed blocks"),ut=v(),F=a("div"),Pe=a("div"),mt=v(),Be=a("div"),pt=v(),Ye=a("div"),bt=v(),Ue=a("div"),Et=v(),Z=a("table"),me=a("thead"),K=a("tr"),pe=a("th"),gt=p("Height"),kt=v(),be=a("th"),wt=p("Total weight"),yt=v(),Ee=a("th"),Dt=p("Proposer reward"),Tt=v(),ee=a("tbody");for(let h=0;h<z.length;h+=1)z[h].c();Mt=v(),O=a("div"),ge=a("h3"),Lt=p("Latest transactions"),It=v(),te=a("div"),ke=a("small"),Vt=p("Transactions in latest blocks"),xt=v(),q=a("div"),Ce=a("div"),Ht=v(),Ge=a("div"),St=v(),Ke=a("div"),At=v(),Oe=a("div"),$t=v(),le=a("table"),we=a("thead"),j=a("tr"),Ae=a("th"),Rt=p("Hash"),Ft=v(),$e=a("th"),qt=p("Height"),zt=v(),Re=a("th"),Nt=p("Mel moved"),Pt=v(),se=a("tbody");for(let h=0;h<V.length;h+=1)V[h].c();this.h()},l(h){pl(t.$$.fragment,h),c=_(h),s=r(h,"DIV",{class:!0});var k=o(s);i=r(k,"DIV",{class:!0});var x=o(i);E=r(x,"DIV",{class:!0});var A=o(E);pl(f.$$.fragment,A),A.forEach(l),x.forEach(l),u=_(k),m=r(k,"DIV",{class:!0});var J=o(m);g=r(J,"DIV",{class:!0});var Ct=o(g);L=r(Ct,"H3",{class:!0});var Gt=o(L);$=b(Gt,"Melmint/Melswap"),Gt.forEach(l),Ct.forEach(l),H=_(J),T=r(J,"DIV",{});var Te=o(T);y=r(Te,"SPAN",{class:!0});var Fe=o(y);I=r(Fe,"SPAN",{class:!0});var Kt=o(I);R=b(Kt,"1 ERG ="),Kt.forEach(l),M=_(Fe),S=b(Fe,w),D=b(Fe," MEL"),Fe.forEach(l),U=_(Te),N=r(Te,"BR",{}),oe=_(Te),P=r(Te,"SMALL",{class:!0});var Ot=o(P);ne=r(Ot,"A",{href:!0});var jt=o(ne);et=b(jt,"See details \u2192"),jt.forEach(l),Ot.forEach(l),Te.forEach(l),tt=_(J),C=r(J,"DIV",{});var Me=o(C);G=r(Me,"SPAN",{class:!0});var qe=o(G);ie=r(qe,"SPAN",{class:!0});var Jt=o(ie);lt=b(Jt,"1 SYM ="),Jt.forEach(l),st=_(qe),Ne=b(qe,Se),at=b(qe," MEL"),qe.forEach(l),rt=_(Me),ot=r(Me,"BR",{}),ct=_(Me),he=r(Me,"SMALL",{class:!0});var Qt=o(he);de=r(Qt,"A",{href:!0});var Wt=o(de);nt=b(Wt,"See details \u2192"),Wt.forEach(l),Qt.forEach(l),Me.forEach(l),J.forEach(l),it=_(k),B=r(k,"DIV",{class:!0});var Le=o(B);fe=r(Le,"DIV",{class:!0});var Xt=o(fe);ve=r(Xt,"H3",{class:!0});var Zt=o(ve);ht=b(Zt,"Latest activity"),Zt.forEach(l),Xt.forEach(l),dt=_(Le),Y=r(Le,"DIV",{id:!0});var Ie=o(Y);_e=r(Ie,"H3",{class:!0});var el=o(_e);ft=b(el,"Latest blocks"),el.forEach(l),vt=_(Ie),X=r(Ie,"DIV",{class:!0});var Je=o(X);ue=r(Je,"SMALL",{class:!0});var tl=o(ue);_t=b(tl,"Most recently confirmed blocks"),tl.forEach(l),ut=_(Je),F=r(Je,"DIV",{class:!0});var ae=o(F);Pe=r(ae,"DIV",{}),o(Pe).forEach(l),mt=_(ae),Be=r(ae,"DIV",{}),o(Be).forEach(l),pt=_(ae),Ye=r(ae,"DIV",{}),o(Ye).forEach(l),bt=_(ae),Ue=r(ae,"DIV",{}),o(Ue).forEach(l),ae.forEach(l),Je.forEach(l),Et=_(Ie),Z=r(Ie,"TABLE",{class:!0});var Qe=o(Z);me=r(Qe,"THEAD",{class:!0});var ll=o(me);K=r(ll,"TR",{});var Ve=o(K);pe=r(Ve,"TH",{class:!0});var sl=o(pe);gt=b(sl,"Height"),sl.forEach(l),kt=_(Ve),be=r(Ve,"TH",{class:!0});var al=o(be);wt=b(al,"Total weight"),al.forEach(l),yt=_(Ve),Ee=r(Ve,"TH",{class:!0});var rl=o(Ee);Dt=b(rl,"Proposer reward"),rl.forEach(l),Ve.forEach(l),ll.forEach(l),Tt=_(Qe),ee=r(Qe,"TBODY",{id:!0,class:!0});var ol=o(ee);for(let ce=0;ce<z.length;ce+=1)z[ce].l(ol);ol.forEach(l),Qe.forEach(l),Ie.forEach(l),Mt=_(Le),O=r(Le,"DIV",{});var xe=o(O);ge=r(xe,"H3",{class:!0});var cl=o(ge);Lt=b(cl,"Latest transactions"),cl.forEach(l),It=_(xe),te=r(xe,"DIV",{class:!0});var We=o(te);ke=r(We,"SMALL",{class:!0});var nl=o(ke);Vt=b(nl,"Transactions in latest blocks"),nl.forEach(l),xt=_(We),q=r(We,"DIV",{class:!0});var re=o(q);Ce=r(re,"DIV",{}),o(Ce).forEach(l),Ht=_(re),Ge=r(re,"DIV",{}),o(Ge).forEach(l),St=_(re),Ke=r(re,"DIV",{}),o(Ke).forEach(l),At=_(re),Oe=r(re,"DIV",{}),o(Oe).forEach(l),re.forEach(l),We.forEach(l),$t=_(xe),le=r(xe,"TABLE",{class:!0});var Xe=o(le);we=r(Xe,"THEAD",{class:!0});var il=o(we);j=r(il,"TR",{});var He=o(j);Ae=r(He,"TH",{});var hl=o(Ae);Rt=b(hl,"Hash"),hl.forEach(l),Ft=_(He),$e=r(He,"TH",{});var dl=o($e);qt=b(dl,"Height"),dl.forEach(l),zt=_(He),Re=r(He,"TH",{});var fl=o(Re);Nt=b(fl,"Mel moved"),fl.forEach(l),He.forEach(l),il.forEach(l),Pt=_(Xe),se=r(Xe,"TBODY",{id:!0,class:!0});var vl=o(se);for(let ce=0;ce<V.length;ce+=1)V[ce].l(vl);vl.forEach(l),Xe.forEach(l),xe.forEach(l),Le.forEach(l),k.forEach(l),this.h()},h(){n(E,"class","col-span-full"),n(i,"class","grid mt-8"),n(L,"class","text-2xl font-bold"),n(g,"class","col-span-2 mb-3"),n(I,"class","text-black text-opacity-50"),n(y,"class","text-lg font-bold"),n(ne,"href","/pools/ERG/MEL"),n(P,"class","text-blue-600 font-bold"),n(ie,"class","text-black text-opacity-50"),n(G,"class","text-lg font-bold"),n(de,"href","/pools/MEL/SYM"),n(he,"class","text-blue-600 font-bold"),n(m,"class","grid grid-cols-1 md:grid-cols-2 mt-8 mb-8"),n(ve,"class","text-2xl font-bold"),n(fe,"class","col-span-full mb-3"),n(_e,"class","text-xl font-semibold"),n(ue,"class","text-black text-opacity-50 font-bold"),n(F,"class","lds-ellipsis"),n(X,"class","info-section"),n(pe,"class","block-height"),n(be,"class","block-weight"),n(Ee,"class","block-reward"),n(me,"class","text-left text-sm text-black text-opacity-50"),n(ee,"id","block-rows"),n(ee,"class","leading-loose text-sm"),n(Z,"class","table-auto w-full mt-3"),n(Y,"id","latest-blocks"),n(ge,"class","text-xl font-semibold"),n(ke,"class","text-black text-opacity-50 font-bold"),n(q,"class","lds-ellipsis"),n(te,"class","info-section"),n(we,"class","text-left text-sm text-black text-opacity-50"),n(se,"id","transaction-rows"),n(se,"class","leading-loose text-sm"),n(le,"class","table-auto w-full mt-3"),n(B,"class","grid grid-cols-1 md:grid-cols-2 mt-12 mb-12 grid-flow-row"),n(s,"class","container mx-auto max-w-screen-lg")},m(h,k){bl(t,h,k),Q(h,c,k),Q(h,s,k),e(s,i),e(i,E),bl(f,E,null),e(s,u),e(s,m),e(m,g),e(g,L),e(L,$),e(m,H),e(m,T),e(T,y),e(y,I),e(I,R),e(y,M),e(y,S),e(y,D),e(T,U),e(T,N),e(T,oe),e(T,P),e(P,ne),e(ne,et),e(m,tt),e(m,C),e(C,G),e(G,ie),e(ie,lt),e(G,st),e(G,Ne),e(G,at),e(C,rt),e(C,ot),e(C,ct),e(C,he),e(he,de),e(de,nt),e(s,it),e(s,B),e(B,fe),e(fe,ve),e(ve,ht),e(B,dt),e(B,Y),e(Y,_e),e(_e,ft),e(Y,vt),e(Y,X),e(X,ue),e(ue,_t),e(X,ut),e(X,F),e(F,Pe),e(F,mt),e(F,Be),e(F,pt),e(F,Ye),e(F,bt),e(F,Ue),e(Y,Et),e(Y,Z),e(Z,me),e(me,K),e(K,pe),e(pe,gt),e(K,kt),e(K,be),e(be,wt),e(K,yt),e(K,Ee),e(Ee,Dt),e(Z,Tt),e(Z,ee);for(let x=0;x<z.length;x+=1)z[x].m(ee,null);e(B,Mt),e(B,O),e(O,ge),e(ge,Lt),e(O,It),e(O,te),e(te,ke),e(ke,Vt),e(te,xt),e(te,q),e(q,Ce),e(q,Ht),e(q,Ge),e(q,St),e(q,Ke),e(q,At),e(q,Oe),e(O,$t),e(O,le),e(le,we),e(we,j),e(j,Ae),e(Ae,Rt),e(j,Ft),e(j,$e),e($e,qt),e(j,zt),e(j,Re),e(Re,Nt),e(le,Pt),e(le,se);for(let x=0;x<V.length;x+=1)V[x].m(se,null);ye=!0},p(h,[k]){const x={};if(k&256&&(x.$$scope={dirty:k,ctx:h}),t.$set(x),(!ye||k&1)&&w!==(w=(1/h[0].erg_per_mel).toFixed(5)+"")&&W(S,w),(!ye||k&1)&&Se!==(Se=(1/h[0].sym_per_mel).toFixed(5)+"")&&W(Ne,Se),k&1&&(je=h[0].recent_blocks,z=Sl(z,k,Ut,1,h,je,Yt,ee,$l,Ml,null,Tl)),k&2){De=h[1]();let A;for(A=0;A<De.length;A+=1){const J=Dl(h,De,A);V[A]?V[A].p(J,k):(V[A]=Ll(J),V[A].c(),V[A].m(se,null))}for(;A<V.length;A+=1)V[A].d(1);V.length=De.length}},i(h){ye||(El(t.$$.fragment,h),El(f.$$.fragment,h),ye=!0)},o(h){gl(t.$$.fragment,h),gl(f.$$.fragment,h),ye=!1},d(h){kl(t,h),h&&l(c),h&&l(s),kl(f);for(let k=0;k<z.length;k+=1)z[k].d();Al(V,h)}}}let Ol=async d=>{let t="/raw/overview";return{status:200,props:{params:await ze(d.fetch,t)}}};function Yl(d,t,c){let s,{params:i}=t;return Rl(5e3),d.$$set=E=>{"params"in E&&c(0,i=E.params)},d.$$.update=()=>{d.$$.dirty&1&&c(1,s=()=>{let E=i.recent_blocks.map(f=>f.transactions).flat();return E.length>50&&(E.length=50),E}),d.$$.dirty&1&&console.debug(i.recent_blocks)},[i,s]}class jl extends Il{constructor(t){super(),Vl(this,t,Yl,Bl,xl,{params:0})}}export{jl as default,Ol as load};
